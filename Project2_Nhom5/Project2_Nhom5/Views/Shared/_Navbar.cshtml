<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
    <style>
        .user-actions-nav .btn-outline-secondary {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%) !important;
            border: none !important;
            color: white !important;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }
        .user-actions-nav .btn-outline-secondary:hover {
            background: linear-gradient(135deg, #c82333 0%, #bd2130 100%) !important;
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.4);
        }
        .user-actions-nav .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #ff8c00 100%) !important;
            border: none !important;
            color: white !important;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
        }
        .user-actions-nav .btn-warning:hover {
            background: linear-gradient(135deg, #ffb300 0%, #ff6f00 100%) !important;
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.4);
        }
        .user-actions-nav .btn-outline-primary:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%) !important;
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
        }
    </style>
    <div class="container-fluid">
        <a class="navbar-brand" href="/">Cinema</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
            <ul class="navbar-nav flex-grow-1">
                <li class="nav-item">
                    <a class="nav-link text-dark" href="/">Trang chủ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-dark" href="/Movies">Phim</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-dark" href="/Showtimes">Lịch chiếu</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-dark" href="/Theaters">Rạp chiếu</a>
                </li>
            </ul>
            <div class="d-flex align-items-center">
                <button class="theme-toggle ms-3" type="button" id="themeToggleBtn">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
                
                @if ((bool)(ViewData["IsLoggedIn"] ?? false))
                {
                    <div class="user-nav-section ms-3 d-flex align-items-center">
                        <div class="user-info me-3">
                            <div class="user-greeting-nav fw-bold">Xin chào, @(ViewData["Username"]?.ToString() ?? "User")!</div>
                            <div class="user-role-nav small">@(ViewData["IsAdmin"] != null && (bool)ViewData["IsAdmin"] ? "Quản trị viên" : "Khách hàng")</div>
                        </div>
                        <div class="user-actions-nav d-flex align-items-center gap-2">
                            <a href="@Url.Action("History", "Booking", new { area = "Guest" })" class="btn btn-outline-primary" style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); border: none; color: white; font-weight: 600; padding: 8px 16px; border-radius: 25px; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);">
                                <i class="fas fa-history me-2"></i>Lịch Sử Đặt Vé
                            </a>
                            @if ((bool)(ViewData["IsAdmin"] ?? false))
                            {
                                <a href="/Admin/Home" class="btn btn-warning">
                                    <i class="fas fa-gauge-high me-1"></i>Admin
                                </a>
                            }
                            <button onclick="logout()" class="btn btn-outline-secondary">
                                <i class="fas fa-sign-out-alt me-1"></i>Đăng Xuất
                            </button>
                        </div>
                    </div>
                }
                else
                {
                    <button class="login-button ms-3" type="button" data-bs-toggle="modal" data-bs-target="#loginModal">
                        <i class="fas fa-user me-2"></i>Đăng Nhập
                    </button>
                }
            </div>
        </div>
    </div>
</nav>
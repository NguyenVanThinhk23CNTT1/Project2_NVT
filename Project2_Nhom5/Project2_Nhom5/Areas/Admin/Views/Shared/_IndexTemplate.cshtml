@model IEnumerable<dynamic>
@{
    var controllerName = ViewContext.RouteData.Values["Controller"]?.ToString();
    var title = ViewData["Title"]?.ToString() ?? controllerName;
    var icon = ViewData["Icon"]?.ToString() ?? "fas fa-list";
    var description = ViewData["Description"]?.ToString() ?? $"Danh sách tất cả {title.ToLower()} trong hệ thống";
    var emptyMessage = ViewData["EmptyMessage"]?.ToString() ?? $"Chưa có {title.ToLower()} nào";
    var emptyDescription = ViewData["EmptyDescription"]?.ToString() ?? $"Bắt đầu bằng cách thêm {title.ToLower()} đầu tiên vào hệ thống";
    var createButtonText = ViewData["CreateButtonText"]?.ToString() ?? $"Thêm {title.ToLower()} đầu tiên";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="mb-1">
            <i class="@icon me-2 text-primary"></i>@title
        </h2>
        <p class="text-muted mb-0">@description</p>
    </div>
    <a asp-action="Create" class="btn btn-primary">
        <i class="fas fa-plus me-2"></i>Thêm mới
    </a>
</div>

@if (!Model.Any())
{
    <div class="card-dashboard p-5 text-center">
        <i class="@icon fa-3x text-muted mb-3"></i>
        <h4 class="text-muted">@emptyMessage</h4>
        <p class="text-muted">@emptyDescription</p>
        <a asp-action="Create" class="btn btn-primary">
            <i class="fas fa-plus me-2"></i>@createButtonText
        </a>
    </div>
}
else
{
    <div class="card-dashboard">
        <div class="table-responsive">
            @RenderBody()
        </div>
    </div>
}
